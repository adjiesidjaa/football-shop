{% extends "base.html" %}
{% block title %}Daftar Produk{% endblock title %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">Daftar Produk</h1>
<div class="mb-4 mx-auto space-x-4">
  <a href="{% url 'main:create_product' %}" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">
    + Tambah Produk
  </a>

  <a href="?filter=all" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">
    <button type="button">All Products</button>
  </a>
  <a href="?filter=my" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700">
    <button type="button">My Products</button>
  </a> 
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  {% for p in products %}
  <div class="bg-white rounded-lg shadow hover:shadow-lg transition">
    {% if p.thumbnail %}
    <img src="{{ p.thumbnail }}" alt="{{ p.name }}" class="w-full h-48 object-cover rounded-t-lg">
    {% endif %}
    <div class="p-4">
      <h2 class="text-lg font-semibold">{{ p.name }}</h2>
      <p class="text-gray-600 text-sm">{{ p.description|truncatechars:60 }}</p>
      <p class="text-blue-600 font-bold mt-2">Rp {{ p.price }}</p>
      <a href="{% url 'main:product_detail' p.id %}" class="text-blue-500 hover:underline">Detail</a>
    </div>
  </div>
  {% empty %}
  <p class="text-gray-500">Belum ada produk.</p>
  {% endfor %}
</div>

{% endblock content %}
